#!/bin/bash

# Base directory
#base_dir="New-PentTest"
#
## Create directories using curly braces for compact structure
#mkdir -p "$base_dir"/{Admin,Deliverables,Evidence/{Findings,Scans/{Vuln,Service,Web,'AD Enumeration'},Notes,OSINT,Wireless,'Logging output','Misc Files'},Retest}
#
## Create the main index file and specific Markdown files within Findings
#touch "$base_dir"/{Index.md,Evidence/Findings/{H1-Kerberoasting.md,H2-ASREPRoasting.md,H3-LLMNR-NBT-NS-Response-Spoofing.md}}
#
## Create Note files using curly braces
#touch "$base_dir"/Evidence/Notes/{1.Administrative-Information.md,2.Scoping-Information.md,3.Activity-Log.md,4.Payload-Log.md,5.OSINT-Data.md,6.Credentials.md,7.Web-application-Research.md,8.Vulnerability-Scan-Research.md,9.Service-Enumeration-Research.md,10.AD-Enumeration-Research.md,11.Attack-Path.md,12.Findings.md}
#
#echo "Folder structure and files have been created in $base_dir."
################## Above Valid ##################################
#!/bin/bash

# Define the base directory
base_dir="New-PentTest"

# Create directories using a nested structure with curly braces
mkdir -p "$base_dir"/{Admin,Deliverables,Evidence/{Findings,Scans/{Vuln,Service,Web,'AD Enumeration'},Notes,OSINT,Wireless,'Logging output','Misc Files'},Retest}

# Define an array with all Markdown file paths relative to the base directory
md_files=(
    "Evidence/Findings/H1-Kerberoasting"
    "Evidence/Findings/H2-ASREPRoasting"
    "Evidence/Findings/H3-LLMNR-NBT-NS-Response-Spoofing"
    "Evidence/Notes/1.Administrative-Information"
    "Evidence/Notes/2.Scoping-Information"
    "Evidence/Notes/3.Activity-Log"
    "Evidence/Notes/4.Payload-Log"
    "Evidence/Notes/5.OSINT-Data"
    "Evidence/Notes/6.Credentials"
    "Evidence/Notes/7.Web-application-Research"
    "Evidence/Notes/8.Vulnerability-Scan-Research"
    "Evidence/Notes/9.Service-Enumeration-Research"
    "Evidence/Notes/10.AD-Enumeration-Research"
    "Evidence/Notes/11.Attack-Path"
    "Evidence/Notes/12.Findings"
)

# Create all markdown files from the array
for md_file in "${md_files[@]}"; do
    touch "$base_dir/$md_file.md"
done

# Create the Index.md file
touch "$base_dir/Index.md"

# Append the relative paths to the Index.md file, formatted as links
{
    echo "# Index of Markdown Files" > "$base_dir/Index.md"
    for md_file in "${md_files[@]}"; do
        echo "- [[${md_file}]]" >> "$base_dir/Index.md"
    done
}

# Confirmation message after successful creation of directories, files, and index entries
echo "Folder structure, files, and index have been created in $base_dir."
